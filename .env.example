# =============================================================================
# Kuma Management Console - Environment Variables
# Copy this file to .env and customize for your deployment
# =============================================================================

# -----------------------------------------------------------------------------
# REQUIRED - Security
# -----------------------------------------------------------------------------

# Secret key for session encryption (CHANGE THIS!)
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-secure-secret-key-here-change-me

# -----------------------------------------------------------------------------
# Session Configuration
# -----------------------------------------------------------------------------

# Session lifetime in seconds (default: 1800 = 30 minutes)
SESSION_LIFETIME=1800

# Set to 'false' for development without HTTPS (NOT recommended for production)
SESSION_COOKIE_SECURE=true

# -----------------------------------------------------------------------------
# Security Settings
# -----------------------------------------------------------------------------

# Maximum failed login attempts before account lockout
MAX_LOGIN_ATTEMPTS=5

# Account lockout duration in minutes
LOCKOUT_DURATION=15

# Require 2FA for all users (true/false)
REQUIRE_2FA=false

# IP allowlist (comma-separated, empty = allow all)
# Example: ALLOWED_IPS=192.168.1.100,10.0.0.0/8
ALLOWED_IPS=

# Allow localhost connections to Kuma (for development)
ALLOW_LOCALHOST=true

# Relaxed security headers for reverse proxy setups (nginx, traefik, npm)
# Set to 'true' if running behind a proxy - loosens CSP and frame restrictions
RELAXED_SECURITY=false

# Disable ALL security headers (for external proxy servers on separate hosts)
# Only use this if RELAXED_SECURITY doesn't work for your setup
DISABLE_SECURITY_HEADERS=false

# Trust proxy headers (X-Forwarded-For, X-Forwarded-Proto, etc.)
# Set to 'true' when running behind any reverse proxy
TRUST_PROXY=true

# Session cookie SameSite policy
# Use 'Lax' (default) for same-origin, 'None' for cross-origin proxy
# Note: 'None' requires SESSION_COOKIE_SECURE=true
SESSION_COOKIE_SAMESITE=Lax

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------

# Database URL (default: SQLite in data directory)
# For PostgreSQL: postgresql://user:pass@host:5432/dbname
DATABASE_URL=sqlite:////app/data/users.db

# -----------------------------------------------------------------------------
# Timezone
# -----------------------------------------------------------------------------
TZ=UTC
